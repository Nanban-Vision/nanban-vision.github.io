---
import '../styles/Store.css'; 
import { Image } from 'astro:assets';
import nanban_product from '../assets/nanban_product.jpg'; 
---

<section id="store" class="store-section">
  <div class="store-content">
    <h2 class="store-title">Nanban - Smart Vision Assistance</h2>
    <div class="product-thumbnail">
      <Image src={nanban_product} height="500vw" alt="Concept Sketch of Nanban" class="product-image" />
    </div>
    <p class="product-description">
      Nanban provides innovative and reliable assistance for the visually impaired, enhancing mobility and safety. With advanced object detection, distance measurement, and voice assistance, Nanban empowers its users to navigate confidently in everyday environments.
    </p>
    <div class="product-price">
      â‚¹13,999
    </div>
    <div class="cta-buttons">
      <a href="javascript:void(0);" class="cta-button buy-now" id="buy-now">Buy Now</a>
    </div>
  </div>
</section>

<div id="popup" class="popup">
  <div class="popup-content">
    <span id="close-popup" class="close-popup">&times;</span>
    <Image src={nanban_product} height="500vw" alt="Nanban Product" class="popup-image" />
    <p class="reach-out-text">
      For inquiries and to make a purchase, reach out to us!
      <br />
      Call us at: <strong>+91 9946031110</strong>
      <br />
      Email us at: <strong>arungeorgesaji@gmail.com</strong>
    </p>
  </div>
</div>

<script>
  const buyNowButton = document.getElementById('buy-now');
  if (buyNowButton) {
    buyNowButton.addEventListener('click', function () {
      const popup = document.getElementById('popup');
      if (popup) {
        popup.style.display = 'flex';
      }
    });
  }

  const closePopupButton = document.getElementById('close-popup');
  if (closePopupButton) {
    closePopupButton.addEventListener('click', function () {
      const popup = document.getElementById('popup');
      if (popup) {
        popup.style.display = 'none';
      }
    });
  }

  const popupElement = document.getElementById('popup');
  if (popupElement) {
    window.addEventListener('click', function (event) {
      if (event.target === popupElement) {
        popupElement.style.display = 'none';
      }
    });
  }
</script>
